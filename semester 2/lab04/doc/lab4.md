# Лабораторна робота №4. Макровизначення

## 1. Вимоги

### 1.1 Розробник

- Клименко Юрій Юрійович;

- студент групи КІТ-120а;

- 12-квітня-2021

### 1.2 Загальне завдання

 1. **Виводити** поточну дату та час для виклику кожної функції;

 2. **Виводити** ім'я поточної функції;

 3. **Виводити** загальний час роботи програми;

 4. При запуску кожного тесту виводити ім'я тесту та час його виконання;

 5. **Виводити** загальний час виконання всіх тестів

### 1.3 Індивідуальне завдання

 Виконати завдання згідно варіанту


## 32. Опис програми на основі динамічного списку

### 2.1 Функціональне призначення

За допомогою макровизначень можна дізнатись інформацію про час виконання функцій.

### 2.2 Опис логічної структури програми

Загальне завдання виконується за допомогою розроблених функцій. Функції: `ShowList`, виводить список на екран, `FindBook` знаходить елемент в списку за заданим критерієм,`DeleteElement` видаляє елемент зі списку,  `SortListByCriterion` сортує список за заданим критерієм, `InsertElement` виконує вставку нового елементу в список.

_Головна функція_`main()`. Виконує взаємодію з користувачем шляхом діалогового меню. Викликає функції в залежності від запитів користувача

_Функція видалення_ `DeleteElement`. функція приймає список, та позицію з якої видалити елемент .


_Функція `SortListByCriterion`:Функція приймає список та критерій для сортування.
_Схема алгоритму функції_ подана на рис. 1.
![enter image description here](https://github.com/LiquidFunki/liquid_images/blob/main/func_lab_4.png?raw=true)

Рисунок 10 --- Схема алгоритму функції  `SortListByCriterion`

_Функція_ `InsertElement`: Функція приймає список в який буде вставлено елемент, позицію, на яку буде вставлено елемент там поля елементу.


### 2.3 Важливі фрагменти програми

#### Задання макросу

``` 
#define log_info(M, ...) fprintf(stderr, "[INFO] (%s:%d) " M "\n",\
                __FILE__, __LINE__, ##__VA_ARGS__) 
```
#### Виведення поточних даних

```
time_t CurTime;
struct tm * TimeInfo;
time ( &CurTime );
TimeInfo = localtime ( &CurTime );
log_info("%s", __FUNCTION__);
log_info("Time & Date: %s", asctime (TimeInfo));
```
#### Розрахунок загального часу виконання програми

```
time_t start = clock();
time_t end = clock();
double whole_time = (double) (end - start) / CLOCKS_PER_SEC;
```

### 3. Варіанти використання

Для демонстрації результатів використовується Clion. Нижче наводиться послідовність  дій запуску програми.

_Крок 1_ (рис.2 ). Початок роботи програми.

![result1](https://github.com/LiquidFunki/liquid_images/blob/main/4_1.png?raw=true)
Рисунок 2 --- Результат виконання кроку 1

_Крок 2_ (рис.3 ). Виклик функції виводу списку.

![result2](https://github.com/LiquidFunki/liquid_images/blob/main/4_2.png?raw=true)
Рисунок 3 --- Результат виконання кроку 2

_Крок 3_ (рис.4 ). Завершення роботи програми 

![result3](https://github.com/LiquidFunki/liquid_images/blob/main/4_3.png?raw=true)
Рисунок 4 --- Результат виконання кроку 3

_Крок 4_ (рис.5 ). Виконання тестів.
![](https://github.com/LiquidFunki/liquid_images/blob/main/4_4.png?raw=true)
Рисунок 5 --- Результат виконання кроку 4
### Структура проекту

	├── lab20
	    ├── doc
	        ├── lab4.md
	        └── assets
        ├── CMakelists.txt
        ├── books.txt
		├── test
            ├── test.c
		└── src
		    ├── main.c
		    ├── data.c
            ├── data.h
		    ├── list.c
		    └── list.h
## Висновки

Отримано навички у роботі з макровизначеннями та їх використанні.
